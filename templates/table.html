<!-- table.html -->
{% extends "base.html" %}
{% load static %}

{% block title %}損傷一覧{% endblock title %}
{% block h1 %}損傷一覧{% endblock %}

{% block content %}
<head>
    <link href="https://cdn.datatables.net/v/dt/jq-3.6.0/dt-1.13.4/datatables.min.css" rel="stylesheet"/>
    <script src="https://cdn.datatables.net/v/dt/jq-3.6.0/dt-1.13.4/datatables.min.js"></script>
</head>
<body>
    <Style>
        .my-table th, .my-table td {
            border: 3px double dimgray; /* ボーダースタイルを設定 */
            padding: 8px; /* セルの内側の余白を設定 */
        }
    </style>
    <table class="my-table" border="1">
        <thead>
            <tr>
                <th>損傷箇所</th>
                <th>損傷種類</th>
                <th>損傷番号</th>
                <th>損傷写真</th>
                <th>写真メモ</th>
            </tr>
        </thead>
        <tbody>
            {% for bridge in damage_table %}
            <form>
                <tr>
                    <td>{{ bridge.first }}</td>
                    <td>{{ bridge.second }}</td>
                    <td>
                    {% if bridge.last is not None %}
                        {% if bridge.last|length == 1 %}<!-- 要素が1つの場合 -->
                        <img src="{% static bridge.last %}" width="200" height="150">
                        {% elif bridge.last|length == 2 %}
                        <img src="{% static bridge.last.0 %}" width="200" height="150">
                        <img src="{% static bridge.last.1 %}" width="200" height="150">
                        {% elif bridge.last|length == 2 %}
                        <img src="{% static bridge.last.0 %}" width="200" height="150">
                        <img src="{% static bridge.last.1 %}" width="200" height="150">
                        <img src="{% static bridge.last.2 %}" width="200" height="150">
                        {% else %}<!-- それ以外の場合の処理 -->
                        <img src="{% static bridge.picture %}" width="200" height="150">
                        {% endif %}
                    {% endif %}
                    </td>
                    <td><img src="{% static bridge.picture %}" width="200" height="150"></td>
                    <td>
                        <input type="text" name="notes" placeholder="自由記述">
                    </td>
                </tr>
            </form>
            {% endfor %}
        </tbody>
    </table>
    <script>
        $(document).ready(function() {
            $('.my-table').DataTable({});
        })
    </script>
</body>
{% endblock %}