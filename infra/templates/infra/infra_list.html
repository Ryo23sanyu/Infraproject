{% extends "base.html" %}

{% block title %}橋梁一覧{% endblock title %}
{% block h1 %}橋梁一覧{% endblock %}

<!-- 並び替え用のプルダウンメニュー -->
<label for="order_by">並び替え：</label>
<select id="order_by" name="order_by" onchange="handleOrderChange()">
  <option value="span_number">径間数</option>
  <option value="length">橋長</option>
  <option value="full_width">全幅員</option>
</select>

{% block content %}
<div class="d-flex flex-wrap">
  {% for item in object_list %}
    <div class="p-4 m-4 bg-light border border-success rounded" style="width: 19rem;">
      <h2 class="text-success">{{ item.title }}</h2><br>
      <h6 class="card-text">径間数：{{ item.span_number }} 径間</h6>
      <h6 class="card-text">橋長：{{ item.length }} m</h6>
      <h6 class="card-text">全幅員：{{ item.full_width }} m</h6>
      <div class="mt-3">
        <a href="{% url 'detail-infra' item.pk %}" class="card-link">詳細</a>
      </div>
    </div>
  {% endfor %}
{% endblock content %}

<link rel="stylesheet" href="style.css">
<div class="sidebar">
  <ul>
    <li><a href="1">リンク1</a></li>
    <li><a href="2">リンク2</a></li>
    <li><a href="3">リンク3</a></li>
  </ul>
</div>

<script>
  function handleOrderChange() {
    // プルダウンメニューが変更されたときの処理をここに追加
    var orderSelect = document.getElementById("order_by");
    var selectedValue = orderSelect.value;

    // 選択された値を使って何かしらの処理を行う（例：Ajaxでデータを取得するなど）
    console.log("選択された値: ", selectedValue);
  }

    var sidebar = document.querySelector('.sidebar');
  var sidebarToggle = document.querySelector('.sidebar-toggle');

  sidebarToggle.addEventListener('click', function() {
    sidebar.classList.toggle('open');
  });
</script>