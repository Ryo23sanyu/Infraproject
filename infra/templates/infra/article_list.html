{% extends "base.html" %}

{% block title %}顧客一覧{% endblock title %}
{% block h1 %}顧客一覧{% endblock %}

<!-- 並び替え用のプルダウンメニュー -->
<label for="order_by">並び替え：</label>
<select id="order_by" name="order_by" onchange="handleOrderChange()">
  <option value="article_name">土木事務所名</option>
  <option value="number">対象数</option>
  <option value="other">その他</option>
</select>

{% block content %}
<div class="d-flex flex-wrap">
  {% for item in object_list %}
    <div class="p-4 m-4 bg-light border border-success rounded" style="width: 19rem;">
      <h2 class="text-success">{{ item.title }}</h2><br>
      <h6 class="card-text">土木事務所名：{{ item.article_name }}</h6>
      <h6 class="card-text">対象数：{{ item.nunber }} 橋</h6>
      <h6 class="card-text">その他：{{ item.other }}</h6>
      <div class="mt-3">
        <a href="{% url 'list-infra' %}" class="btn btn-primary">対象一覧</a>
      </div>
    </div>
  {% endfor %}
{% endblock content %}

<script>
  function handleOrderChange() {
    // プルダウンメニューが変更されたときの処理をここに追加
    var orderSelect = document.getElementById("order_by");
    var selectedValue = orderSelect.value;

    // 選択された値を使って何かしらの処理を行う（例：Ajaxでデータを取得するなど）
    console.log("選択された値: ", selectedValue);
  }

    var sidebar = document.querySelector('.sidebar');
  var sidebarToggle = document.querySelector('.sidebar-toggle');

  sidebarToggle.addEventListener('click', function() {
    sidebar.classList.toggle('open');
  });
</script>